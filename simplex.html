<html>
    <head>
        <title>Simplex method</title>
        <style>
                    #app, html {
                        background-color: #BCBAAD;
                        padding: 10px;
                        font-size: 20px;
                    }

                    .input-width {
                        width: 20px;
                    }

                    #goal-function {
                        margin-bottom: 50px;
                    }

                    #solve {
                        width: 75px;
                        height: 25px;
                        font-size: 16px;
                        border-radius: 8px;
                        margin-top: 25px;                  
                    }

                    .simplex {
                        border-collapse: collapse;
                    }

                    tr, th, td {
                        border: 2px solid black;
                        text-align: center;
                        width: 100px;
                        height: 40px;
                        background-color: #FBDCDE;
                    }

                    .stub {
                        visibility: hidden;
                    }

                    .margin {
                        margin-top: 20px;
                    }

                    .yellow {
                        background-color: yellow;                
                    }

                    .green-answer {
                        font-weight: bold;
                        color: green;                
                    }

                    .red-answer {
                        font-weight: bold;
                        color: red;                            
                    }
        </style>
    </head>
    <body>
        <div id="app"></div>
        <script src="math.min.js"></script>
        <script>
        	(function() {
                window.onload = function() {
                    var APP_ID = "app";

                    function getRatio(value) {
                         if (math.isInteger(value)) {
                            return value;                 
                         }

                         return math.format(math.fraction(value), {fraction: 'fraction'})               
                    }

                    function Main() {
                        this.simplexTables = [];
                        this.domGenerator = null;
                        this.inputOutputGenerator = null;                
                    }

                    Main.prototype.constructGoalFunction = function() {
                        var variables, freeMember;
                        var goalFunction, currentElement, currentVariable;
                        variables = [];
                            
                        currentElement = this.inputOutputGenerator.input.goalFunction;
 
                        if (!currentElement) {
                            return goalFunction;
                        }

                        for (j = 0; (currentVariable = currentElement.variables[j++]) !== undefined;) {
                            variables.push(new Variable(j, currentVariable));
                        }

                        currentElement.freeMember = currentElement.isMinimum ? currentElement.freeMember : -currentElement.freeMember;

                        return goalFunction = new GoalFunction(
                             new Equation(variables, currentElement.freeMember),  
                             currentElement.isMinimum
                        ); 
                     }

                     Main.prototype.constructFirstSimplexTable = function(goalFunction) {
                        var restrictions, restrictedEquations, variables,
                            currentElement, currentVariable, j, k;

                        restrictions = this.inputOutputGenerator.input.restrictions;
                        restrictedEquations = [];

                        if (!restrictions) {
                            return;       
                        }

                        for (j = 0; currentElement = restrictions[j++];) {
                            variables = [];

                            for (k = 0; currentVariable = currentElement.variables[k++];) {
                                variables.push(
                                    new RestritedVariable(k, currentVariable.value, currentVariable.isBasis)
                                );
                            }

                            restrictedEquations.push(
                               new RestritedEquation(currentElement.number, variables, currentElement.freeMember)
                            );
                         }
                            
                         return new FirstSimplexTable(restrictedEquations, goalFunction);
                      }

                      Main.prototype.constructSimplexTable = function(previousSimplexTable) {
                         var newSimplexTable, equations = [], restrictedEquation, variables,
                             restrictedVariable, j, k, varIterator, variable, solvedValue, solvedCoord,
                             newRestrictedVariable, newRestrictedEquation, newMarks = [];

                         for (j = 0; j < previousSimplexTable.restrictedEquations.length; j++) {
                             variables = [];                
                             restrictedEquation = previousSimplexTable.restrictedEquations[j];

                             for (k = 0; k < restrictedEquation.variables.length; k++) {
                                 restrictedVariable = restrictedEquation.variables[k];
                                 newRestrictedVariable = Object.assign({}, restrictedVariable);
                                 variables.push(newRestrictedVariable);                
                             }

                             if (restrictedEquation.numberBasis === previousSimplexTable.minRelation.numberBasis) {
                                 varIterator = 0;
                                 solvedValue = previousSimplexTable.minRelation
                                     .variables[previousSimplexTable.maxMark.number - 1].coeficientValue;

                                 while (variable = variables[varIterator++]) {
                                     variable.coeficientValue /= solvedValue;
                                 }
                                    
                                 solvedCoord = new SolvedCoord(previousSimplexTable.maxMark.number, j + 1);

                                 newRestrictedEquation = 
                                     new RestritedEquation(previousSimplexTable.maxMark.number, variables, restrictedEquation.freeMember / solvedValue);
                             } else {
                                 newRestrictedEquation = 
                                     new RestritedEquation(restrictedEquation.numberBasis, variables, restrictedEquation.freeMember); 
                             }

                             equations.push(newRestrictedEquation);
                         }

                         for (j = 0; j < previousSimplexTable.marks.length; j++) {
                             newMarks.push(Object.assign({}, previousSimplexTable.marks[j]));
                         }

                         newSimplexTable = new SimplexTable(equations, solvedCoord);
                         newSimplexTable.marks = newMarks;
                         newSimplexTable.goalFunctionValue = previousSimplexTable.goalFunctionValue;

                         return newSimplexTable;            
                     }

                     Main.prototype.run = function() {
                        var goalFunction, currentSimplexTable, first = true, iterator = 0;

                        goalFunction = this.constructGoalFunction();
                                            
                        do {
                            currentSimplexTable = first ? this.constructFirstSimplexTable(goalFunction) 
                                     : this.constructSimplexTable(currentSimplexTable);

                            first = false;
                                        
                            currentSimplexTable.evaluate();
                            this.simplexTables.push(currentSimplexTable);
                               
                        } while (!currentSimplexTable.isEnd());  
                           

                        this.domGenerator.doSimplexTable(this.simplexTables[0], true);
                        this.domGenerator.doCoordsAndFuncValue(this.simplexTables[0], 0);

                        while (++iterator < this.simplexTables.length) {
                              this.domGenerator.doSimplexTable(this.simplexTables[iterator]);
                              this.domGenerator.doCoordsAndFuncValue(this.simplexTables[iterator], iterator);
                        }

                        this.domGenerator.doResultAnswer(this.simplexTables);
                          
                        console.log(this.inputOutputGenerator);
                        console.log(this.simplexTables);             
                     }

                     Main.prototype.generateConfiguration = function() {
                         this.domGenerator = new DOMGenerator(new Configuration());
                         this.inputOutputGenerator = new InputOutputGenerator(this.domGenerator);

                         this.domGenerator.doInputBlock(this.inputOutputGenerator.generateInput.bind(this.inputOutputGenerator), this.run.bind(this));
                     }                

                    function Configuration() {
                        this.amountVars = +prompt('Яка кількість змінних?');
                        this.amountRestrictions = +prompt('Яка кількість обмежень?');               
                        this.isMin = confirm("Чи мінімізується функція цілі?")
                    }

                    function DOMGenerator(configuration) {
                        this.configuration = configuration;
                        this.goalFunctionInputs = [];
                        this.restrictionInputs = [];
                        this.appDiv = document.getElementById(APP_ID);
                    }

                    function InputOutputGenerator(domGenerator) {
                        this.domGenerator = domGenerator;
                        this.input = {};
                    }

                    InputOutputGenerator.prototype.generateInput = function() {
                        this.generateInputGoalFunction();
                        this.generateInputRestrictions();
                        this.resolveBasis();
                    }

                    InputOutputGenerator.prototype.generateInputGoalFunction = function() {
                        var goalFunction = {}, currentInput, iterator;
                        goalFunction.variables = [];

                        for (iterator = 0; currentInput = this.domGenerator.goalFunctionInputs[iterator++];) {
                            goalFunction.variables.push(this.domGenerator.configuration.isMin ? +currentInput.value : -currentInput.value);                
                        }
                        
                        goalFunction.freeMember = goalFunction.variables.pop();
                        goalFunction.isMinimum = this.domGenerator.configuration.isMin;
                        this.input.goalFunction = goalFunction;            
                    }

                    InputOutputGenerator.prototype.generateInputRestrictions = function() {
                        var restrictions = [], restriction, currentInput, currentInputInner,
                            iterator, innerIterator, currentVariable;

                        for (iterator = 0; currentInput = this.domGenerator.restrictionInputs[iterator++];) {
                            restriction = {};
                            restriction.variables = [];
                            
                            for (innerIterator = 0; currentInputInner = currentInput[innerIterator++];) {
                                currentVariable = {};
                                currentVariable.value = +currentInputInner.value;                
                                restriction.variables.push(currentVariable);                
                            }

                            restriction.freeMember = restriction.variables.pop().value; 

                            restrictions.push(restriction);               
                        }

                        this.input.restrictions = restrictions;               
                    }

                    InputOutputGenerator.prototype.resolveBasis = function() {
                        var currentRestriction, currentVariable,
                            amountRestrictions = this.domGenerator.configuration.amountRestrictions,
                            restrictions = this.input.restrictions,
                            iterator, innerIterator, addIterator, isBasis;

                        for (iterator = 0; currentRestriction = restrictions[iterator++];) {
                            for (innerIterator = 0; currentVariable = currentRestriction.variables[innerIterator++];) {
                                if (currentVariable.value !== 1) {
                                    currentVariable.isBasis = false;
                                    continue;                
                                }

                                isBasis = true;
                                for (addIterator = 0; addIterator < amountRestrictions; addIterator++) {
                                    if (restrictions[addIterator].variables[innerIterator - 1].value !== 0 && addIterator !== (iterator - 1)) {
                                       isBasis = false;
                                       break;                 
                                    }
                                }

                                currentVariable.isBasis = isBasis;
                                if (isBasis) {
                                   currentRestriction.number = innerIterator;
                                }
                            }               
                        }
                    }
 
                    DOMGenerator.prototype.doInputBlock = function(generateInput, run) {
                        var inputBlock, goalFunctionLabel, goalFunctionBlock, restrictionsBlock, btn;
                        inputBlock = document.createElement('div');
                        inputBlock.setAttribute("id", "input-block");

                        goalFunctionLabel = document.createElement('h5');
                        goalFunctionLabel.innerHTML = "Goal function";

                        goalFunctionBlock = document.createElement('div');
                        goalFunctionBlock.setAttribute("id", "goal-function");

                        this.doGoalFunction(goalFunctionBlock);

                        restrictionsBlock = document.createElement('div');
                        restrictionsBlock.setAttribute("id", "restrictions");

                        this.doRestrictions(restrictionsBlock);

                        btn = document.createElement('button');
                        btn.setAttribute("id", "solve");
                        btn.innerHTML = "Solve";

                        btn.addEventListener("click", function() { 
                              generateInput();
                              run();
                        });

                        inputBlock.appendChild(goalFunctionLabel);
                        inputBlock.appendChild(goalFunctionBlock);
                        inputBlock.appendChild(restrictionsBlock);
                        inputBlock.appendChild(btn);
                        this.appDiv.appendChild(inputBlock);
                    }

                    DOMGenerator.prototype.doGoalFunction = function(goalFunction) {
                        var fxspan, xspan, sub, plusspan,
                        goalFunctionInputWrapper, goalFunctionInput, 
                        freeMemberWrapper, freeMember, iterator = 0, attitudeSpan;

                        fxspan = document.createElement('span');
                        fxspan.innerHTML = "f(x) = ";
                        goalFunction.appendChild(fxspan);


                        for (;iterator++ < this.configuration.amountVars;) {
                            goalFunctionInputWrapper = document.createElement('span');
                            goalFunctionInput = document.createElement('input');
                            goalFunctionInput.setAttribute("id", "goal-function-input-" + iterator);
                            goalFunctionInput.setAttribute("class", "input-width");
                            this.goalFunctionInputs.push(goalFunctionInput);

                            xspan = document.createElement('span');
                            xspan.innerHTML = "x";

                            sub = document.createElement("sub");
                            sub.innerHTML = iterator;

                            plusspan = document.createElement('span');
                            plusspan.innerHTML = " + ";


                            goalFunctionInputWrapper.appendChild(goalFunctionInput);
                            goalFunctionInputWrapper.appendChild(xspan);
                            goalFunctionInputWrapper.appendChild(sub);

                            goalFunction.appendChild(goalFunctionInputWrapper);
                            goalFunction.appendChild(plusspan);
                         }

                         freeMemberWrapper = document.createElement('span');

                         freeMember = document.createElement('input');
                         freeMember.setAttribute("id", "goal-function-freemember");
                         freeMember.setAttribute("class", "input-width");
                         this.goalFunctionInputs.push(freeMember);

                         freeMemberWrapper.appendChild(freeMember);

                         attitudeSpan = document.createElement('span');
                         attitudeSpan.innerHTML = " -> " + (this.configuration.isMin ? "min" : "max");

                         goalFunction.appendChild(freeMemberWrapper);
                         goalFunction.appendChild(attitudeSpan);
                    }

                    DOMGenerator.prototype.doRestrictions = function(restrictionsBlock) {
                         var restrictionsLabel, restrictionBlock, iterator, innerIterator,
                             restrictionInputWrapper, restrictionInput, sub, xspan, plusspan,
                             equalsspan, restrictionInputPack;

                         restrictionsLabel = document.createElement('h5');
                         restrictionsLabel.innerHTML = "Restrictions";
                         restrictionsBlock.appendChild(restrictionsLabel);

                         for (iterator = 0; iterator++ < this.configuration.amountRestrictions; ) {
                              restrictionBlock = document.createElement('div');
                              restrictionBlock.setAttribute("id", "restriction-" + iterator);
                              
                              restrictionInputPack = [];
                              for (innerIterator = 0; innerIterator++ < this.configuration.amountVars;) {
                                  restrictionInputWrapper = document.createElement('span');
                                  
                                  restrictionInput = document.createElement('input');
                                  restrictionInput.setAttribute("id", "restriction-" + iterator + "-input-" + innerIterator);
                                  restrictionInput.setAttribute("class", "input-width");
                                  restrictionInputPack.push(restrictionInput);

                                  xspan = document.createElement('span');
                                  xspan.innerHTML = "x";

                                  sub = document.createElement('sub');
                                  sub.innerHTML = innerIterator;

                                  restrictionInputWrapper.appendChild(restrictionInput);
                                  restrictionInputWrapper.appendChild(xspan);
                                  restrictionInputWrapper.appendChild(sub);

                                  restrictionBlock.appendChild(restrictionInputWrapper);
                                  
                                  if (innerIterator < this.configuration.amountVars) {
                                      plusspan = document.createElement('span');
                                      plusspan.innerHTML = "+";

                                      restrictionBlock.appendChild(plusspan);
                                  }
                              }

                              equalsspan = document.createElement('span');
                              equalsspan.innerHTML = " = ";

                              restrictionInput = document.createElement('input');
                              restrictionInput.setAttribute("id", "restriction-" + iterator + "-freemember");
                              restrictionInput.setAttribute("class", "input-width");
                              restrictionInputPack.push(restrictionInput);
                              this.restrictionInputs.push(restrictionInputPack);

                              restrictionBlock.appendChild(equalsspan);
                              restrictionBlock.appendChild(restrictionInput);
                              restrictionsBlock.appendChild(restrictionBlock);               
                         }
                    }

                    DOMGenerator.prototype.doSimplexTable = function(simplexTable, isFirst) {
                         var block, table, th, tr, td, iterator = 0, innerIterator, currentElement;
                         
                         block = document.createElement('div');
                         block.setAttribute('class', 'margin');
                         
                         table = document.createElement('table');
                         table.setAttribute('class', 'simplex');

                         tr = document.createElement('tr');

                         th = document.createElement('th');
                         th.innerHTML = "Змінні<br/>Базис";
                         tr.appendChild(th);

                         while (iterator++ < simplexTable.marks.length) {
                               th = document.createElement('th');
                               th.innerHTML = "x<sub>" + iterator + "</sub>"; 
                               tr.appendChild(th);             
                         }

                         th = document.createElement('th');
                         th.innerHTML = "Вільні члени";
                         tr.appendChild(th);

                         table.appendChild(tr);
                         
                         for (iterator = 0; currentElement = simplexTable.restrictedEquations[iterator++];) {
                             tr = document.createElement('tr');
                             
                             th = document.createElement('th');
                             th.innerHTML = "x<sub>" + currentElement.numberBasis + "<sub>";
                             tr.appendChild(th);

                             innerIterator = 0;
                             while (innerIterator++ < currentElement.variables.length) {
                                   td = document.createElement('td');
                                   
                                   if (simplexTable.minRelation && simplexTable.maxMark && 
                                      currentElement.numberBasis === simplexTable.minRelation.numberBasis &&
                                      innerIterator === simplexTable.maxMark.number) {
                                      td.setAttribute('class', 'yellow');                 
                                   }

                                   td.innerHTML = getRatio(currentElement.variables[innerIterator - 1].coeficientValue); 
                                   tr.appendChild(td);             
                             } 

                             td = document.createElement('td');
                             td.innerHTML = getRatio(currentElement.freeMember);
                             tr.appendChild(td);
                             
                             if (isFirst) {           
                                td = document.createElement('td');
                                td.innerHTML = getRatio(simplexTable.goalFunction.equation.variables[currentElement.numberBasis - 1].coeficientValue);
                                tr.appendChild(td);
                             }

                             table.appendChild(tr);               
                         }

                         tr = document.createElement('tr');
                         th = document.createElement('th');
                         th.innerHTML = "F";
                         tr.appendChild(th);

                         iterator = 0;
                         while (iterator++ < simplexTable.marks.length) {
                               td = document.createElement('td');
                               td.innerHTML = getRatio(simplexTable.marks[iterator - 1].value);
                               tr.appendChild(td);              
                         }

                         td = document.createElement('td');                                                                             
                         td.innerHTML = getRatio(simplexTable.goalFunctionValue);
                         tr.appendChild(td);

                         table.appendChild(tr);

                         tr = document.createElement('tr');

                         td = document.createElement('td');
                         td.setAttribute('class', 'stub');
                         tr.appendChild(td);
                         
                         if (isFirst) {
                            iterator = 0;
                            while (iterator++ < simplexTable.marks.length) {
                                  td = document.createElement('td');
                                  td.innerHTML = simplexTable.goalFunction.equation.variables[iterator - 1].coeficientValue;
                                  tr.appendChild(td);              
                            }

                            table.appendChild(tr);
                         }

                         block.appendChild(table);
                         this.appDiv.appendChild(block);
                    }

                    DOMGenerator.prototype.doCoordsAndFuncValue = function(simplexTable, index) {
                         var block, coord, coordVal, coordArr = [], funcVal, currentElement, iterator;

                         block = document.createElement('div');
                         block.setAttribute('class', 'margin');
                         
                         coord = document.createElement('span');
                         coordVal = "x<sup>" + index + "</sup>(";

                         for (iterator = 1; iterator <= simplexTable.marks.length; iterator++) {
                             currentElement = simplexTable.restrictedEquations.find(function(e) {
                                 return e.numberBasis === iterator;                
                             });

                             if (!currentElement) {
                                coordArr.push(0);
                                continue;                
                             }

                             coordArr.push(getRatio(currentElement.freeMember));                
                         }

                         coordVal += coordArr.join('; ') + ")";
                         coord.innerHTML = coordVal;

                         funcVal = document.createElement('span');
                         funcVal.innerHTML = " F(x<sup>" + index + "</sup>) = " + getRatio(this.configuration.isMin ? simplexTable.goalFunctionValue : -simplexTable.goalFunctionValue);

                         block.appendChild(coord);
                         block.appendChild(funcVal);
                         this.appDiv.appendChild(block);
                    }

                    DOMGenerator.prototype.doResultAnswer = function(simplexTables) {
                         var block, answer, lastTable;
                         
                         lastTable = simplexTables[simplexTables.length - 1];

                         block = document.createElement('div');
                         block.setAttribute('class', 'margin');
                         answer = document.createElement('span');

                         if (!lastTable.maxMark.number) {
                            answer.innerHTML = "Так як всі оцінки від'ємні, то оптимальним розв'язком є: ";
                            answer.setAttribute('class', 'green-answer');
                         } else if (!lastTable.minRelation) {
                            answer.innerHTML = "Так як серед відношень немає додатніх, то функція цілі на МПР необмежена " + (this.configuration.isMin ? "знизу." : "зверху.");               
                            answer.setAttribute('class', 'red-answer');
                         }
                    
                         block.appendChild(answer); 
                         this.appDiv.appendChild(block);
                         
                         if (!lastTable.maxMark.number) {
                            this.doCoordsAndFuncValue(lastTable, '*');                
                         }
                    }

                    function GoalFunction(equation, isMinimum) {
                        this.equation = equation;
                        this.isMinimum = isMinimum;
                    }

                    function Mark(number, value) {
                        this.number = number;
                        this.value = value;                
                    }

                    function SolvedCoord(col, row) {
                        this.row = row;
                        this.col = col;                
                    }

                    function SimplexTable(restrictedEquations, solvedCoord) {
                        this.restrictedEquations = restrictedEquations;
                        this.solvedCoord = solvedCoord;
                        this.marks = [];
                        this.maxMark = null;
                        this.minRelation = null;
                        this.goalFunctionValue = null;
                    }

                    SimplexTable.prototype.evaluateMaxMark = function() {
                        var currentMark, maxMark, j;

                        j = 0;
                        maxMark = { number: null, value: -1 };
                        
                        while (currentMark = this.marks[j++]) {
                             if (currentMark.value > maxMark.value && currentMark.value > 0) {
                                 maxMark = currentMark;                
                             }           
                        }
                                  
                        this.maxMark = maxMark;                
                    }

                    SimplexTable.prototype.evaluateMinRelation = function() {
                        var currentEquation, minRelation, minRelationVal, relationVal, j;

                        if (!this.maxMark.number) {
                           return;                 
                        }

                        j = 0;
                        minRelationVal = Number.MAX_SAFE_INTEGER; 

                        while (currentEquation = this.restrictedEquations[j++]) {
                              relationVal = currentEquation.freeMember / currentEquation.variables[this.maxMark.number - 1].coeficientValue;
                                          
                              if (relationVal > 0 && relationVal < minRelationVal) {
                                   minRelation = currentEquation;
                                   minRelationVal = relationVal;              
                              }          
                        }

                        this.minRelation = minRelation;
                    }

                    SimplexTable.prototype.evaluateBasis = function() {
                          var i, j, currentEquation, currentVariable, currentMark, basisCol;

                          for (i = 0; i < this.restrictedEquations.length; i++) {
                              if (i === this.solvedCoord.row - 1) {
                                  continue;
                              }
                              currentEquation = this.restrictedEquations[i];

                              basisCol = currentEquation.variables[this.solvedCoord.col - 1].coeficientValue;
                              for (j = 0; j < currentEquation.variables.length; j++) {
                                  currentVariable = currentEquation.variables[j];
                                  currentVariable.coeficientValue += 
                                        (this.restrictedEquations[this.solvedCoord.row - 1].variables[j].coeficientValue * (-basisCol));
                                                                                   
                              }

                              currentEquation.freeMember += 
                                        (this.restrictedEquations[this.solvedCoord.row - 1].freeMember * (-basisCol));
                          }
                           
                          basisCol = this.marks[this.solvedCoord.col - 1].value;              
                          for (i = 0; i < this.marks.length; i++) {
                              currentMark = this.marks[i];

                              currentMark.value +=
                                        (this.restrictedEquations[this.solvedCoord.row - 1].variables[i].coeficientValue * (-basisCol));
                          }

                          this.goalFunctionValue += 
                                        (this.restrictedEquations[this.solvedCoord.row - 1].freeMember * (-basisCol));
                    }
                    
                    SimplexTable.prototype.isEnd = function() {
                         return this.maxMark.value < 0 || !this.minRelation;            
                    }

                    SimplexTable.prototype.evaluate = function() {
                        this.evaluateBasis();
                        this.evaluateMaxMark();
                        this.evaluateMinRelation();                  
                    }

                    function FirstSimplexTable(restrictedEquations, goalFunction) {
                        SimplexTable.call(this, restrictedEquations);
                        this.goalFunction = goalFunction;
                    }
                    FirstSimplexTable.prototype = Object.create(SimplexTable.prototype);

                    FirstSimplexTable.prototype.evaluateMarks = function() {
                         var currentEquation, j, i, mark;

                         for (i = 0; i < this.goalFunction.equation.variables.length; i++) {
                             mark = 0; 
                                            
                             for (j = 0; currentEquation = this.restrictedEquations[j++];) {
                                 mark += (currentEquation.variables[i].coeficientValue * this.goalFunction.equation.variables[currentEquation.numberBasis - 1].coeficientValue);
                             }

                             mark -= this.goalFunction.equation.variables[i].coeficientValue;

                             this.marks.push(new Mark(i + 1, mark));       
                         }
                    }

                    FirstSimplexTable.prototype.evaluateFunctionGoalValue = function() {
                          var i, currentElement, value = 0;

                          i = 0;
                          while (currentElement = this.restrictedEquations[i++]) {
                                value += this.goalFunction.equation.variables[currentElement.numberBasis - 1].coeficientValue * currentElement.freeMember;               
                          }

                          this.goalFunctionValue = value;            
                    }

                    FirstSimplexTable.prototype.evaluate = function() {
                        this.evaluateMarks();
                        this.evaluateFunctionGoalValue();
                        this.evaluateMaxMark();
                        this.evaluateMinRelation();               
                    }

                    function Variable(number, coeficientValue) {
                        this.number = number;
                        this.coeficientValue = coeficientValue || 0;
                    }

                    function RestritedVariable(number, coeficientValue, isBasis) {
                        Variable.call(this, number, coeficientValue);
                        this.isBasis = isBasis || false;
                    }
                    RestritedVariable.prototype = Object.create(Variable.prototype);

                    function Equation(variables, freeMember) {
                        this.variables = variables;
                        this.freeMember = freeMember;
                    }

                    function RestritedEquation(numberBasis, variables, freeMember) {
                        Equation.call(this, variables, freeMember);
                        this.numberBasis = numberBasis;
                    }
                    RestritedEquation.prototype = Object.create(Equation.prototype);


                    (function start() {
                        new Main().generateConfiguration();
                    })();
                }
            })();
        </script>
    </body>
</html>
    
